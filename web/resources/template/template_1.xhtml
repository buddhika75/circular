<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <!--Author : Dr. M H B Ariyaratne, MO(Health Information), buddhika.ari@gmail.com-->
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="maincss.css" />
        <title>#{labels.topic}</title>
    </h:head>

    <h:body >
        <p:growl autoUpdate="true"/>

        <div id="container">
            <h:form>

                <div id="nav-main">
                    <ul>
                        <li><h:commandLink action="index" value ="Home" ></h:commandLink>  </li>
                        <ui:repeat value="#{administrativeDivisionController.items}" var="addiv" >
                            <h:commandLink action="#{circularController.toDivisionalCirculars()}" value ="#{addiv.name}" >
                                <f:setPropertyActionListener value="#{addiv}" target="#{circularController.division}" />
                            </h:commandLink>
                        </ui:repeat>
                        <li><h:commandLink value="Staff Login"  action ="staff_login" ></h:commandLink>  </li>
                        <li><h:commandLink  value ="About us" ></h:commandLink>  </li>
                        <li><h:commandLink  value ="Contact us" ></h:commandLink>  </li>
                    </ul>
                    <br />
                </div>


            </h:form>

            <div id="content">


                <h:panelGroup rendered ="#{sessionController.logged}" >
                    <ui:insert name="content"   >
                    </ui:insert>

                </h:panelGroup>

                <h:panelGroup rendered ="#{!sessionController.logged}" >
                    <ui:insert name="login"   >


                        <p:panel header="Please login" id="loginbox">
                            <h:panelGrid columns="2" >
                                <h:panelGroup >
                                    <h:graphicImage  library="image" name="lock.png" />
                                </h:panelGroup>
                                <h:panelGroup >
                                    <h:form>
                                        <h:panelGrid columns="2">

                                            <h:outputLabel value="Username" ></h:outputLabel>
                                            <h:inputText autocomplete="off"  value="#{sessionController.userName}" ></h:inputText>
                                            <h:outputLabel value="Password" ></h:outputLabel>
                                            <h:inputSecret value="#{sessionController.passord }" ></h:inputSecret>
                                            <h:outputLabel value="Password" ></h:outputLabel>
                                            <h:commandButton value="Login" action="#{sessionController.loginAction()}" ></h:commandButton>

                                        </h:panelGrid>
                                    </h:form>
                                </h:panelGroup>


                            </h:panelGrid>

                        </p:panel>

                    </ui:insert>
                </h:panelGroup>



            </div>

            <div id="nav-supp">
                <h:form>
                    <h:outputLabel  value="You are logged as #{sessionController.loggedUser.webUserPerson.name}&nbsp;(#{sessionController.loggedUser.role.name})."  rendered ="#{sessionController.logged}" ></h:outputLabel><h:commandLink value="Logout" action="#{sessionController.logout}"  rendered ="#{sessionController.logged}" ></h:commandLink>
                    <h:outputLabel  value="Please login to continue."  rendered ="#{!sessionController.logged}" ></h:outputLabel>
                </h:form>

                Copyright Â© 2013 | All Rights Reserved  
            </div>
        </div>



    </h:body>

</html>
